import { Props, Description } from '@storybook/addon-docs/blocks';
import { cdnJs, cdnCss } from '../../globals/internal/storybook-cdn';

# Multi select

> üí° Check our
> [CodeSandbox](https://codesandbox.io/s/github/carbon-design-system/carbon-web-components/tree/main/examples/codesandbox/basic/components/multi-select)
> example implementation.

[![Edit carbon-web-components](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/github/carbon-design-system/carbon-web-components/tree/main/examples/codesandbox/basic/components/multi-select)

Multi select is used when user needs to select multiple options from a dropdown.

The label remains persistent within the dropdown. Once the user chooses an option from the list, a number badge will appear to the left of the label containing the total number of selected items. Selected options float to the top of the list in alphanumeric order.

To clear all selected items from a list, hover over the number badge and click the ‚Äúx‚Äù icon next to the value. To help with clarity, a browser tooltip appears when the user hovers over the ‚Äúx‚Äù (or close) icon to indicate the click action results.

## Getting started

Here's a quick example to get you started.

### JS (via import)

```javascript
import 'carbon-web-components/es/components/multi-select/index.js';
```

<Description markdown={`${cdnJs({ components: ['multi-select'] })}`} />

<Description markdown={`${cdnCss()}`} />

### HTML

```html
<bx-multi-select value="foo,baz">
  <bx-multi-select-item value="foo">Foo</bx-multi-select-item>
  <bx-multi-select-item value="bar">Bar</bx-multi-select-item>
  <bx-multi-select-item value="baz">Baz</bx-multi-select-item>
</bx-multi-select>
```

## Filter mode

If you'd like to have a search bar to filter through the dropdown options, you can add the `filterable` boolean to the `<bx-multi-select>` component.

```html
<bx-multi-select value="foo,baz" filterable>
  <bx-multi-select-item value="foo">Foo</bx-multi-select-item>
  <bx-multi-select-item value="bar">Bar</bx-multi-select-item>
  <bx-multi-select-item value="baz">Baz</bx-multi-select-item>
</bx-multi-select>
```

Often you want to render the multi select items from your data. Below is an example of [`lit-html`](https://lit-html.polymer-project.org), but similar stories apply to React, Angular, Vue, Backbone, Knockout and many others:

```javascript
html`
  <bx-multi-select>
    ${items.map(item => html` <bx-multi-select-item value="${item.value}">${item.title}</bx-multi-select-item> `)}
  </bx-multi-select>
`;
```

## Selection

When user attempts to change selection in multi select item, `bx-multi-select-beingselected` event fires on `<bx-multi-select>`, which has the following properties in the event details:

| Property | Description                                                    |
| -------- | -------------------------------------------------------------- |
| `item`   | The `<bx-multi-select-item>` whose selection is being changed. |

`bx-multi-select-beingselected` bubbles and is cancelable. Canceling this event means canceling change in selection.

## Note on keyboard navigation

Similar to native `<select>`, `<bx-multi-select>` keeps focusing on itself even while the menu is open and user is navigating through arrow keys. Given that, `<bx-multi-select-item>` does not handle keyboard events by itself. `<bx-multi-select>` takes care of handling keyboard events for multi select items and updates `<bx-multi-select-item>`.

## `<bx-multi-select>` attributes, properties and events

Note: For `boolean` attributes, `true` means simply setting the attribute (e.g. `<bx-multi-select open>`) and `false` means not setting the attribute (e.g. `<bx-multi-select>` without `open` attribute).

<Props of="bx-multi-select" />

## `<bx-multi-select-item>` attributes and properties

Note: For `boolean` attributes, `true` means simply setting the attribute (e.g. `<bx-multi-select-item disabled>`) and `false` means not setting the attribute (e.g. `<bx-multi-select-item>` without `disabled` attribute).

<Props of="bx-multi-select-item" />
